<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <title>Software Carpentry: </title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body class="lesson">
    <div class="container card">
      <div class="banner">
        <a href="http://software-carpentry.org" title="Software Carpentry">
          <img alt="Software Carpentry banner" src="img/software-carpentry-banner.png" />
        </a>
      </div>
      <article>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
                    <h1 class="title"></h1>
          <h1 id="문제풀이">문제풀이</h1>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> sympy <span class="im">import</span> <span class="op">*</span>
x, y, z <span class="op">=</span> symbols(<span class="st">&#39;x y z&#39;</span>)
init_printing(use_unicode<span class="op">=</span><span class="va">True</span>)
<span class="co">##  </span>
<span class="im">import</span> warnings<span class="op">;</span>
<span class="cf">with</span> warnings.catch_warnings():
    warnings.simplefilter(<span class="st">&quot;ignore&quot;</span>)<span class="op">;</span> 
    <span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</code></pre></div>
<h2 id="방정식에-대해-기억을-환기시키는-메모">방정식에 대해 기억을 환기시키는 메모</h2>
<p><a href="12-gotcha.html">Gotcha</a>절에서 심파이에서 기호방정식은 <code>=</code>, <code>==</code>으로 표현되는 것이 아니라, <code>Eq</code>로 표현되는 것을 상기한다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">Eq(x, y)</code></pre></div>
<p><span class="math display">\[x = y\]</span></p>
<p>하지만, 더 쉬운 방식도 있다. 심파이에서 <code>Eq</code>에 없는 표현식은 문제풀이 함수가 0과 같다고 자동으로 가정한다. <span class="math inline">\(a=b\)</span>이면 <span class="math inline">\(a-b=0\)</span>으로 필요충분조건이기 때문에, <code>x==y</code>를 사용하는 대신에, <code>x-y</code>만 사용할 수 있다. 예를 들어,</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">solveset(Eq(x<span class="op">**</span><span class="dv">2</span>, <span class="dv">1</span>), x)</code></pre></div>
<p><span class="math display">\[\left\{-1, 1\right\}\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">solveset(Eq(x<span class="op">**</span><span class="dv">2</span> <span class="op">-</span><span class="dv">1</span>, <span class="dv">0</span>), x)</code></pre></div>
<p><span class="math display">\[\left\{-1, 1\right\}\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">solveset(x<span class="op">**</span><span class="dv">2</span> <span class="op">-</span><span class="dv">1</span>, x)</code></pre></div>
<p><span class="math display">\[\left\{-1, 1\right\}\]</span></p>
<p>풀려고 하는 방정식이 이미 0과 같은 경우 특히나 도움이 된다. <code>solveset(Eq(expr, 0), x)</code> 타이핑하는 대신에, <code>solveset(expr,x)</code>를 바로 사용할 수 있다.</p>
<h2 id="방정식을-대수적으로-문제풀기">방정식을 대수적으로 문제풀기</h2>
<p>대수방정식을 푸는 주요 함수가 <code>solveset</code>이다. <code>solveset</code> 구문은 <code>solveset(equation, variable=None, domain=S.Complexes)</code>이다. <code>equations</code>는 <code>Eq</code> 인스턴스이거나 0과 같다고 가정한 표현식 형태일 수 있다.</p>
<p>방정식을 푸는데 사용될 수 있는 <code>solve</code>라는 또다른 함수도 주목한다. 구문은 <code>solve(equations, variables)</code>이지만, <code>solveset</code>을 사용할 것을 추천한다.</p>
<p>방정식 한개를 풀 때, <code>solveset</code> 출력결과는 해에 대해 <code>FiniteSet</code> 혹은 <code>Interval</code> 혹은 <code>ImageSet</code>이 된다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">solveset(x<span class="op">**</span><span class="dv">2</span><span class="op">-</span>x,x)</code></pre></div>
<p><span class="math display">\[\left\{0, 1\right\}\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">solveset(x<span class="op">-</span>x, x, domain<span class="op">=</span>S.Reals)</code></pre></div>
<p><span class="math display">\[\mathbb{R}\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">solveset(sin(x)<span class="op">-</span><span class="dv">1</span>, x, domain<span class="op">=</span>S.Reals)</code></pre></div>
<p><span class="math display">\[\left\{2 n \pi + \frac{\pi}{2}\; |\; n \in \mathbb{Z}\right\}\]</span></p>
<p>해가 없는 경우, <code>EmptySet</code>이 반환되고, 해를 찾을 수 없는 경우 <code>ConditionSet</code>이 반환된다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">solveset(exp(x), x)</code></pre></div>
<p><span class="math display">\[\emptyset\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">solveset(cos(x)<span class="op">-</span>x, x)</code></pre></div>
<p><span class="math display">\[\left\{x\; |\; x \in \mathbb{C} \wedge - x + \cos{\left (x \right )} = 0 \right\}\]</span></p>
<p><code>solveset</code> 모듈에서, 선형방정식 시스템을 <code>linsolve</code>를 사용해서 풀수 있다. 향후 <code>solveset</code>에서 직접 <code>linsolve</code>를 사용할 수 있을 것이다. <code>linsolve</code> 구문에 대한 예제가 다음에 나와 있다.</p>
<ul>
<li>리스트 방정식 형태:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">linsolve([x<span class="op">+</span>y<span class="op">+</span>z<span class="dv">-1</span>, x<span class="op">+</span>y<span class="dv">+2</span><span class="op">*</span>z<span class="dv">-3</span>],(x,y,z))</code></pre></div>
<p><span class="math display">\[\left\{\left ( - y - 1, \quad y, \quad 2\right )\right\}\]</span></p>
<ul>
<li>덧붙임 행렬 형태</li>
</ul>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">linsolve(Matrix(([<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>],[<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>])),(x,y,z))</code></pre></div>
<p><span class="math display">\[\left\{\left ( - y - 1, \quad y, \quad 2\right )\right\}\]</span></p>
<ul>
<li><span class="math inline">\(A*x=b\)</span> 형태</li>
</ul>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">M <span class="op">=</span> Matrix(((<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>), (<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)))
system <span class="op">=</span> A, b<span class="op">=</span>M[:,:<span class="op">-</span><span class="dv">1</span>],M[:,<span class="op">-</span><span class="dv">1</span>]
linsolve(system, x, y,z)</code></pre></div>
<p><span class="math display">\[\left\{\left ( - y - 1, \quad y, \quad 2\right )\right\}\]</span></p>
<blockquote>
<p>주목: 해의 순서는 주어진 기호 순서와 대응된다.</p>
</blockquote>
<p><code>solveset</code>은 한번만 각해를 출력한다. 중복을 포함하는 다항식에 대한 해를 구하려면, <code>roots</code> 함수를 사용한다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">solveset(x<span class="op">**</span><span class="dv">3</span> <span class="op">-</span><span class="dv">6</span><span class="op">*</span>x<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> <span class="dv">9</span><span class="op">*</span>x, x)</code></pre></div>
<p><span class="math display">\[\left\{0, 3\right\}\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">roots(x<span class="op">**</span><span class="dv">3</span> <span class="op">-</span><span class="dv">6</span><span class="op">*</span>x<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> <span class="dv">9</span><span class="op">*</span>x, x)</code></pre></div>
<p><span class="math display">\[\left \{ 0 : 1, \quad 3 : 2\right \}\]</span></p>
<p><code>roots</code>를 돌려나온 <code>{0: 1, 3: 2}</code> 출력결과는 <code>0</code>이 중복 1회를 갖는 해이고, <code>3</code>은 중복 2회를 갖는 해이다.</p>
<aside class="callout panel panel-info">
<div class="panel-heading">
<h3 id="solveset이-풀-수-없는-방정식-유형"><span class="glyphicon glyphicon-pushpin"></span><code>solveset</code>이 풀 수 없는 방정식 유형</h3>
</div>
<div class="panel-body">
<ul>
<li>비선형 다변량 시스템</li>
<li>LambertW로 풀 수 있는 방정식(초월 방정식 문제풀이 프로그램)</li>
</ul>
<p><code>solve</code>를 이런 경우에 사용한다.</p>
</div>
</aside>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">solve([x<span class="op">*</span>y<span class="dv">-1</span>,x<span class="dv">-2</span>],x,y)</code></pre></div>
<p><span class="math display">\[\left [ \left ( 2, \quad \frac{1}{2}\right )\right ]\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">solve(x<span class="op">*</span>exp(x)<span class="op">-</span><span class="dv">1</span>,x)</code></pre></div>
<p><span class="math display">\[\left [ \operatorname{LambertW}{\left (1 \right )}\right ]\]</span></p>
<h2 id="미분-방정식-문제풀이">미분 방정식 문제풀이</h2>
<p>미분방정식을 푸는데 <code>dsolve</code>를 사용한다. 먼저, <code>cls=Function</code>을 <code>symbols</code> 함수에 인자로 전달해서 부정의 함수(undefined function)를 생성한다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">f,g<span class="op">=</span>symbols(<span class="st">&#39;f g&#39;</span>, cls<span class="op">=</span>Function)</code></pre></div>
<p><code>f</code>와 <code>g</code>는 이제 부정의 함수가 되었다. <code>f(x)</code>를 호출할 수 있고, 미지함수를 표현하게 된다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">f(x)</code></pre></div>
<p><span class="math display">\[f{\left (x \right )}\]</span></p>
<p><code>f(x)</code> 미분은 평가되지 않는다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">f(x).diff(x)</code></pre></div>
<p><span class="math display">\[\frac{d}{d x} f{\left (x \right )}\]</span></p>
<p>(미분에 대한 좀더 자세한 사항은 <a href="http://docs.sympy.org/latest/tutorial/calculus.html#tutorial-derivatives">Derivatives</a>를 참조한다.) <span class="math inline">\(f&#39;&#39;(x) - 2f&#39;(x) + f(x) = \sin(x)\)</span> 미분방정식을 표현하는데, 다음과 같이 활용한다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">diffeq <span class="op">=</span> Eq(f(x).diff(x, x) <span class="op">-</span> <span class="dv">2</span><span class="op">*</span>f(x).diff(x) <span class="op">+</span> f(x), sin(x))
diffeq</code></pre></div>
<p><span class="math display">\[f{\left (x \right )} - 2 \frac{d}{d x} f{\left (x \right )} + \frac{d^{2}}{d x^{2}}  f{\left (x \right )} = \sin{\left (x \right )}\]</span></p>
<p>ODE 해를 구하려면, <code>dsolve</code> 함수에 풀 함수를 넘긴다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">dsolve(diffeq, f(x))</code></pre></div>
<p><span class="math display">\[f{\left (x \right )} = \left(C_{1} + C_{2} x\right) e^{x} + \frac{1}{2} \cos{\left (x \right )}\]</span></p>
<p><code>dsolve</code>는 <code>Eq</code> 인스턴스를 반환한다. 이유는 일반적으로 미분방정식 해가 해당 함수에 대해 명시적으로 풀 수가 없기 때문이다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">dsolve(f(x).diff(x)<span class="op">*</span>(<span class="dv">1</span> <span class="op">-</span> sin(f(x))), f(x))</code></pre></div>
<p><span class="math display">\[f{\left (x \right )} + \cos{\left (f{\left (x \right )} \right )} = C_{1}\]</span></p>
<p><code>dsolve</code>에서 나온 해는 임의 상수로 <code>C1</code>, <code>C2</code>, <code>C3</code> 등과 같은 기호형태를 갖는다.</p>
        </div>
      </div>
      </article>
      <div class="footer">
        <a class="label swc-blue-bg" href="http://software-carpentry.org">Software Carpentry</a>
        <a class="label swc-blue-bg" href="https://github.com/swcarpentry/lesson-template">Source</a>
        <a class="label swc-blue-bg" href="mailto:admin@software-carpentry.org">Contact</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
    <script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
  </body>
</html>
