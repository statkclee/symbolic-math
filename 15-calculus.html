<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <title>Software Carpentry: </title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body class="lesson">
    <div class="container card">
      <div class="banner">
        <a href="http://software-carpentry.org" title="Software Carpentry">
          <img alt="Software Carpentry banner" src="img/software-carpentry-banner.png" />
        </a>
      </div>
      <article>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
                    <h1 class="title"></h1>
          <h1 id="미적분">미적분</h1>
<p>미분, 적분, 극한, 급수 전개 같은 기본적인 미분적분을 심파이에서 계산하는 방법을 다룬다. 미적분 수학에 친숙하지 않다면, 그냥 넘어가도 좋다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> sympy <span class="im">import</span> <span class="op">*</span>
x, y, z <span class="op">=</span> symbols(<span class="st">&#39;x y z&#39;</span>)
init_printing(use_unicode<span class="op">=</span><span class="va">True</span>)</code></pre></div>
<h2 id="미분">미분</h2>
<p>미분을 할 때는 <code>diff</code> 함수를 사용한다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">diff(cos(x), x)</code></pre></div>
<p><span class="math display">\[- \sin{\left (x \right )}\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">diff(exp(x<span class="op">**</span><span class="dv">2</span>), x)</code></pre></div>
<p><span class="math display">\[2 x e^{x^{2}}\]</span></p>
<p><code>diff</code> 함수는 한번에 미분을 여러번 수행할 수 있다. 미분을 여러번 수행하려면, 변수를 미분취하고자 하는 만큼 전달하거나, 변수 뒤에 숫자를 넘겨 전달한다. 예를 들어, 다음 두가지 모두 <span class="math inline">\(x^4\)</span>에 대해 3번 미분한다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">diff(x<span class="op">**</span><span class="dv">4</span>, x, x, x)</code></pre></div>
<p><span class="math display">\[24 x\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">diff(x<span class="op">**</span><span class="dv">4</span>, x, <span class="dv">3</span>)</code></pre></div>
<p><span class="math display">\[24 x\]</span></p>
<p>한번에 다수 변수에 대해 미분을 취할 수도 있다. 단일 변수 미분과 동일한 구분을 사용해서 각 미분을 순서대로 전달한다. 예를 들어, 다음 각각은 <span class="math inline">\(\frac{\partial^7}{\partial x\partial y^2\partial z^4} e^{x y z}\)</span> 미분을 계산한다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">expr <span class="op">=</span> exp(x<span class="op">*</span>y<span class="op">*</span>z)
diff(expr, x,y,y,z,z,z,z)</code></pre></div>
<p><span class="math display">\[x^{3} y^{2} \left(x^{3} y^{3} z^{3} + 14 x^{2} y^{2} z^{2} + 52 x y z + 48\right) e^{x y z}\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">diff(expr, x, y, <span class="dv">2</span>, z, <span class="dv">4</span>)</code></pre></div>
<p><span class="math display">\[x^{3} y^{2} \left(x^{3} y^{3} z^{3} + 14 x^{2} y^{2} z^{2} + 52 x y z + 48\right) e^{x y z}\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">diff(expr, x, y, y, z, <span class="dv">4</span>)</code></pre></div>
<p><span class="math display">\[x^{3} y^{2} \left(x^{3} y^{3} z^{3} + 14 x^{2} y^{2} z^{2} + 52 x y z + 48\right) e^{x y z}\]</span></p>
<p><code>diff</code>를 메쏘드로 호출할 수도 있다. <code>diff</code>를 호출하는 두가지 방식은 정확히 동일하고, 편리함을 목적으로 제공된다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">expr.diff(x, y, y, z, <span class="dv">4</span>)</code></pre></div>
<p><span class="math display">\[x^{3} y^{2} \left(x^{3} y^{3} z^{3} + 14 x^{2} y^{2} z^{2} + 52 x y z + 48\right) e^{x y z}\]</span></p>
<p>값을 매기지 않은 미분을 생성하려면, <code>Derivatives</code> 클래스를 사용한다. <code>diff</code>와 동일한 구문을 갖는다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">deriv <span class="op">=</span> Derivative(expr, x, y, y, z, <span class="dv">4</span>)
deriv</code></pre></div>
<p><span class="math display">\[\frac{\partial^{7}}{\partial x\partial y^{2}\partial z^{4}}  e^{x y z}\]</span></p>
<p>아직 값을 매기지 않은 미분에 값을 매기려면, <code>doit</code> 메쏘드를 사용한다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">deriv.doit()</code></pre></div>
<p><span class="math display">\[x^{3} y^{2} \left(x^{3} y^{3} z^{3} + 14 x^{2} y^{2} z^{2} + 52 x y z + 48\right) e^{x y z}\]</span></p>
<p>이런 값을 매기지 않은 객체는 미분에 대한 값을 매기는 것을 지연시키거나 출판 목적으로 유용하다. 심파이가 표현식 미분을 어떻게 계산하는지 모를 때도 사용될 수 있다.(예를 들어, 정의되지 않는 함수를 포함하고 있는 경우, <a href="http://docs.sympy.org/latest/tutorial/solvers.html#tutorial-dsolve">Solving Differential Equations</a>에 기술되어 있다)</p>
<h2 id="적분">적분</h2>
<p>적분을 계산하는데 <code>integrate</code> 함수를 사용한다. 두가지 유형의 적분이 존재한다: 부정적분과 정적분. 부정적분, 즉 역도함수, 원시함수를 계산하려면, 표현식 다음에 변수를 전달만하면 된다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">integrate(cos(x), x)</code></pre></div>
<p><span class="math display">\[\sin{\left (x \right )}\]</span></p>
<p>심파이가 적분 상수를 포함하지 않음에 주목한다. 포함시키려면, 본인 스스로 포함을 시키거나 미분방정식으로 문제를 다시 바꾸어 표현해서 <code>dsolve</code> 함수로 푸는데, 이 경우에 상수가 추가되어 있다. <a href="http://docs.sympy.org/latest/tutorial/solvers.html#tutorial-dsolve">Solving Differential Equations</a>을 참고한다.</p>
<blockquote>
<p>빠른 도움말 심파이에서 <span class="math inline">\(\infty\)</span> 는 <code>oo</code>(영문 소문자 <code>o</code> 두번) 로 표기된다. <code>oo</code>가 <span class="math inline">\(\infty\)</span> 처럼 보이고, 타이핑하기 쉽기 때문이다.</p>
</blockquote>
<p>정적분을 계산하려면, 인자를 <code>(integration_variable, lower_limit, upper_limit)</code> 순서로 넘긴다. 예를 들어, 다음을 계산하는데,</p>
<p><span class="math inline">\(\int_0^\infty e^{-x}\,dx\)</span></p>
<p>다음과 같이 작성한다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">integrate(exp(<span class="op">-</span>x), (x, <span class="dv">0</span>, oo))</code></pre></div>
<p><span class="math display">\[1\]</span></p>
<p>부정적분과 마찬가지로, 극한 튜플을 다수 넘겨서 다중적분을 계산할 수도 있다. 예를 들어,</p>
<p>$ <em>{-}^{}</em>{-}^{} e^{- x^{2} - y^{2}}, dx, dy,$</p>
<p>다음과 같이 계산한다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">integrate(exp(<span class="op">-</span>x<span class="op">**</span><span class="dv">2</span> <span class="op">-</span> y<span class="op">**</span><span class="dv">2</span>), (x, <span class="op">-</span>oo, oo), (y, <span class="op">-</span>oo, oo))</code></pre></div>
<p><span class="math display">\[\pi\]</span></p>
<p><code>integrate</code> 함수가 적분을 계산할 수 없는 경우, 값 매김할 수 없는 <code>integral</code> 객체를 반환한다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">expr <span class="op">=</span> integrate(x<span class="op">**</span>x, x)
<span class="bu">print</span>(expr)</code></pre></div>
<pre><code>Integral(x**x, x)</code></pre>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">expr</code></pre></div>
<p><span class="math display">\[\int x^{x}\, dx\]</span></p>
<p><code>Derivative</code> 와 마찬가지로, <code>Integral</code>을 사용해서 값 매김할 수 없는 적분을 생성할 수 있다. 나중에 해당 적분에 값 매김을 하려면, <code>doit</code>을 호출한다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">expr <span class="op">=</span> Integral(log(x)<span class="op">**</span><span class="dv">2</span>, x)
expr</code></pre></div>
<p><span class="math display">\[\int \log^{2}{\left (x \right )}\, dx\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">expr.doit()</code></pre></div>
<p><span class="math display">\[x \log^{2}{\left (x \right )} - 2 x \log{\left (x \right )} + 2 x\]</span></p>
<p><code>integrate</code> 함수는 정적분과 부정적분을 항상 계산하는데 이바지하는 강력한 알고리즘을 사용한다. 휴리스틱 패턴 매칭 알고리즘, <a href="http://en.wikipedia.org/wiki/Risch_algorithm">Risch algorithm</a> 부분 구현, 특수 함수, 특히 정적분에 대한 적분을 계산하는데 유용한 <a href="http://en.wikipedia.org/wiki/Meijer_g-function">Meijer G-functions</a>를 이용한 알고리즘이 포함된다. <code>integrate</code> 함수의 강력함을 보여주는 사례가 다음에 나와 있다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">integ <span class="op">=</span> Integral((x<span class="op">**</span><span class="dv">4</span> <span class="op">+</span> x<span class="op">**</span><span class="dv">2</span><span class="op">*</span>exp(x) <span class="op">-</span> x<span class="op">**</span><span class="dv">2</span> <span class="op">-</span> <span class="dv">2</span><span class="op">*</span>x<span class="op">*</span>exp(x) <span class="op">-</span> <span class="dv">2</span><span class="op">*</span>x <span class="op">-</span> 
                  exp(x))<span class="op">*</span>exp(x)<span class="op">/</span>((x <span class="op">-</span> <span class="dv">1</span>)<span class="op">**</span><span class="dv">2</span><span class="op">*</span>(x <span class="op">+</span> <span class="dv">1</span>)<span class="op">**</span><span class="dv">2</span><span class="op">*</span>(exp(x) <span class="op">+</span> <span class="dv">1</span>)), x)
integ</code></pre></div>
<p><span class="math display">\[\int \frac{\left(x^{4} + x^{2} e^{x} - x^{2} - 2 x e^{x} - 2 x - e^{x}\right) e^{x}}{\left(x - 1\right)^{2} \left(x + 1\right)^{2} \left(e^{x} + 1\right)}\, dx\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">integ.doit()</code></pre></div>
<p><span class="math display">\[\log{\left (e^{x} + 1 \right )} + \frac{e^{x}}{x^{2} - 1}\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">integ <span class="op">=</span> Integral(sin(x<span class="op">**</span><span class="dv">2</span>), x)
integ</code></pre></div>
<p><span class="math display">\[\int \sin{\left (x^{2} \right )}\, dx\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">integ.doit()</code></pre></div>
<p><span class="math display">\[\frac{3 \sqrt{2} \sqrt{\pi} S\left(\frac{\sqrt{2} x}{\sqrt{\pi}}\right)}{8 \Gamma{\left(\frac{7}{4} \right)}} \Gamma{\left(\frac{3}{4} \right)}\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">integ <span class="op">=</span> Integral(x<span class="op">**</span>y<span class="op">*</span>exp(<span class="op">-</span>x), (x, <span class="dv">0</span>, oo))
integ</code></pre></div>
<p><span class="math display">\[\int_{0}^{\infty} x^{y} e^{- x}\, dx\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">integ.doit()</code></pre></div>
<p><span class="math display">\[\begin{cases} \Gamma{\left(y + 1 \right)} &amp; \text{for}\: - \Re{y} &lt; 1 \\\int_{0}^{\infty} x^{y} e^{- x}\, dx &amp; \text{otherwise} \end{cases}\]</span></p>
<p>마지막 예제는 <code>Piecewise</code> 표현식을 반환한다. 왜냐하면, <span class="math inline">\(\Re(y) &gt; 1\)</span>이 아닌 경우 적분이 수렴하지 않기 때문이다.</p>
<h2 id="극한">극한</h2>
<p>심파이는 <code>limit</code> 함수로 기호극한을 계산할 수 있다.</p>
<p><span class="math inline">\(\lim_{x\to x_0} f(x)\)</span></p>
<p>계산하는 구문은 <code>limit(f(x), x, x0)</code>와 같이 적는다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">limit(sin(x)<span class="op">/</span>x, x, <span class="dv">0</span>)</code></pre></div>
<p><span class="math display">\[1\]</span></p>
<p>값매김 점이 특이점인 경우, <code>subs</code> 대신에 <code>limit</code>을 사용한다. 심파이가 <span class="math inline">\(\infty\)</span>를 표현하는 객체가 있지만, 값매김에 무한을 사용하게 되면 신뢰성에 문제가 생길 수 있다. 이유는 증가율 같은 것을 추적하지 못하기 때문이다. 또한, <span class="math inline">\(\infty - \infty\)</span> 와 <span class="math inline">\(\frac{\infty}{\infty}\)</span> 경우 <span class="math inline">\(\mathrm{nan}\)</span> (not-a-number, 숫자 아님)을 반환한다. 예를 들어,</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">expr <span class="op">=</span> x<span class="op">**</span><span class="dv">2</span> <span class="op">/</span> exp(x)
expr.subs(x, oo)</code></pre></div>
<p><span class="math display">\[\mathrm{NaN}\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">limit(expr, x, oo)</code></pre></div>
<p><span class="math display">\[0\]</span></p>
<p><code>Derivative</code>와 <code>Integral</code>과 마찬가지로, <code>limit</code>는 값매김하지 않는 대응되는 클래스가 있는데, <code>Limit</code>이다. 값매김을 수행하려면, <code>doit</code>을 사용한다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">expr <span class="op">=</span> Limit((cos(x) <span class="op">-</span> <span class="dv">1</span>)<span class="op">/</span>x, x, <span class="dv">0</span>)
expr</code></pre></div>
<p><span class="math display">\[\lim_{x \to 0^+}\left(\frac{1}{x} \left(\cos{\left (x \right )} - 1\right)\right)\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">expr.doit()</code></pre></div>
<p><span class="math display">\[0\]</span></p>
<p>한쪽에서 접근하는 극한에 값을 매기려면, <code>+</code> 혹은 <code>-</code> 부호를 넘겨준다. 예를 들어,</p>
<p><span class="math inline">\(\lim_{x\to 0^+}\frac{1}{x},\)</span></p>
<p>다음과 같이 작성해서 계산한다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">limit(<span class="dv">1</span><span class="op">/</span>x, x, <span class="dv">0</span>, <span class="st">&#39;+&#39;</span>)</code></pre></div>
<p><span class="math display">\[\infty\]</span></p>
<p>반면에,</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">limit(<span class="dv">1</span><span class="op">/</span>x, x, <span class="dv">0</span>, <span class="st">&#39;-&#39;</span>)</code></pre></div>
<p><span class="math display">\[-\infty\]</span></p>
<h2 id="수열-전개">수열 전개</h2>
<p>심파이로 특정 점 주변에 함수에 대해 점근적 수열 전개를 해서 계산할 수 있다. <span class="math inline">\(x = x_0\)</span> 점 주변에 <span class="math inline">\(x^n\)</span>차항으로 <span class="math inline">\(f(x)\)</span> 전개해서 계산하려면, <code>f(x).series(x, x0, n)</code>을 사용한다. <code>x0</code>와 <code>n</code>은 생략될 수 있는데, 생략한 경우, 기본디폴트값으로 <code>x0=0</code>, <code>n=6</code> 값이 사용된다.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">expr <span class="op">=</span> exp(sin(x))
expr.series(x, <span class="dv">0</span>, <span class="dv">4</span>)</code></pre></div>
<p><span class="math display">\[1 + x + \frac{x^{2}}{2} + \mathcal{O}\left(x^{4}\right)\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"></code></pre></div>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"></code></pre></div>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"></code></pre></div>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"></code></pre></div>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"></code></pre></div>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"></code></pre></div>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"></code></pre></div>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"></code></pre></div>
        </div>
      </div>
      </article>
      <div class="footer">
        <a class="label swc-blue-bg" href="http://software-carpentry.org">Software Carpentry</a>
        <a class="label swc-blue-bg" href="https://github.com/swcarpentry/lesson-template">Source</a>
        <a class="label swc-blue-bg" href="mailto:admin@software-carpentry.org">Contact</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
    <script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
  </body>
</html>
